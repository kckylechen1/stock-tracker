# AI 助手知识库 - 股票数据 API 能力说明

> 此文件是 AI 助手的"记忆"，描述了可用的数据源和工具能力。
> 参考文档：[AKShare 官方文档](https://akshare.akfamily.xyz/data/stock/stock.html)
> 更新时间: 2026-01-08

---

## 📊 A股实时行情数据

### 1. 沪深京 A 股实时行情
**AKShare 接口**: `stock_zh_a_spot_em()`
**本项目接口**: `eastmoney.getStockQuote(code)`
**数据来源**: 东方财富网

**返回字段（23个）**:
| 字段 | 说明 |
|-----|------|
| 代码 | 股票代码 |
| 名称 | 股票名称 |
| 最新价 | 当前价格 |
| 涨跌幅 | 涨跌百分比 |
| 涨跌额 | 涨跌金额 |
| 成交量 | 成交量(手) |
| 成交额 | 成交额(元) |
| 振幅 | 振幅(%) |
| 最高 | 今日最高价 |
| 最低 | 今日最低价 |
| 今开 | 今日开盘价 |
| 昨收 | 昨日收盘价 |
| 量比 | 量比 |
| 换手率 | 换手率(%) |
| 市盈率(动态) | PE-TTM |
| 市净率 | PB |
| 总市值 | 总市值 |
| 流通市值 | 流通市值 |
| 涨速 | 涨速(%) |
| 5分钟涨跌 | 5分钟涨跌幅 |
| 60日涨跌幅 | 60日涨跌幅 |
| 年初至今涨跌幅 | 年初至今涨跌幅 |

### 2. 分市场实时行情
| AKShare 接口 | 本项目接口 | 说明 |
|-------------|-----------|------|
| `stock_sh_a_spot_em()` | - | 沪 A 股实时行情 |
| `stock_sz_a_spot_em()` | - | 深 A 股实时行情 |
| `stock_bj_a_spot_em()` | - | 京 A 股实时行情 |
| `stock_cy_a_spot_em()` | - | 创业板实时行情 |
| `stock_kc_a_spot_em()` | - | 科创板实时行情 |
| `stock_new_a_spot_em()` | - | 新股实时行情 |

### 3. 个股详细行情（雪球数据源）
**AKShare 接口**: `stock_individual_spot_xq(symbol)`
**输入参数**: symbol 如 "SH600000"

**返回字段（38个）**:
| 字段 | 说明 |
|-----|------|
| 代码 | 股票代码 |
| 名称 | 股票名称 |
| 现价 | 当前价格 |
| 涨跌 | 涨跌额 |
| 涨幅 | 涨跌幅(%) |
| 今开 | 今日开盘价 |
| 最高 | 今日最高价 |
| 最低 | 今日最低价 |
| 昨收 | 昨日收盘价 |
| 成交量 | 成交量 |
| 成交额 | 成交额 |
| 周转率 | 换手率(%) |
| 振幅 | 振幅(%) |
| 市盈率(动) | PE-TTM |
| 市盈率(静) | PE-静态 |
| 市净率 | PB |
| 总市值 | 总市值 |
| 流通值 | 流通市值 |
| 每股收益 | EPS |
| 每股净资产 | BPS |
| 股息率(TTM) | 股息率 |
| 52周最高 | 52周最高价 |
| 52周最低 | 52周最低价 |
| 涨停 | 涨停价 |
| 跌停 | 跌停价 |
| 均价 | 当日均价 |
| 今年以来涨幅 | 年初至今涨幅 |
| 发行日期 | 上市日期 |

---

## 💰 资金流向数据

### 1. 个股资金流向
**AKShare 接口**: `stock_individual_fund_flow(stock, market)`
**本项目接口**: `fundflow.getStockFundFlow(code)`
**数据来源**: 东方财富网

**输入参数**:
- stock: 股票代码，如 "600094"
- market: 市场，"sh" 或 "sz"

**返回字段**:
| 字段 | 说明 |
|-----|------|
| 日期 | 交易日期 |
| 收盘价 | 收盘价 |
| 涨跌幅 | 涨跌幅(%) |
| 主力净流入-净额 | 主力净流入金额 |
| 主力净流入-净占比 | 主力净流入占比(%) |
| 超大单净流入-净额 | 超大单净流入金额 |
| 超大单净流入-净占比 | 超大单净流入占比(%) |
| 大单净流入-净额 | 大单净流入金额 |
| 大单净流入-净占比 | 大单净流入占比(%) |
| 中单净流入-净额 | 中单净流入金额 |
| 中单净流入-净占比 | 中单净流入占比(%) |
| 小单净流入-净额 | 小单净流入金额 |
| 小单净流入-净占比 | 小单净流入占比(%) |

**资金分类说明**:
- **超大单**: 单笔成交 > 100万元
- **大单**: 20万 < 单笔成交 ≤ 100万元
- **中单**: 4万 < 单笔成交 ≤ 20万元  
- **小单**: 单笔成交 ≤ 4万元
- **主力**: 超大单 + 大单

### 2. 个股资金流排名
**AKShare 接口**: `stock_individual_fund_flow_rank(indicator)`
**本项目接口**: `fundflow.getFundFlowRank(type, limit)`

**indicator 参数**:
| 值 | 说明 |
|---|------|
| "今日" | 当日资金流排名 |
| "3日" | 3日累计资金流排名 |
| "5日" | 5日累计资金流排名 |
| "10日" | 10日累计资金流排名 |

### 3. 大盘资金流向
**AKShare 接口**: `stock_market_fund_flow()`
**本项目接口**: `fundflow.getMarketFundFlow()`

**返回字段**:
- 日期、上证收盘价、上证涨跌幅
- 主力/超大单/大单/中单/小单 净流入净额及净占比

### 4. 板块资金流排名
**AKShare 接口**: `stock_sector_fund_flow_rank(indicator, sector_type)`

**sector_type 参数**:
- "行业资金流" - 行业板块
- "概念资金流" - 概念板块
- "地域资金流" - 地域板块

---

## 📈 历史行情数据（K线）

### 1. 日K线数据
**AKShare 接口**: `stock_zh_a_hist(symbol, period, start_date, end_date, adjust)`
**本项目接口**: `eastmoney.getKlineData(code, period, count)`

**period 参数**:
| 值 | 说明 |
|---|------|
| "daily" | 日K |
| "weekly" | 周K |
| "monthly" | 月K |

**adjust 参数**:
| 值 | 说明 |
|---|------|
| "" | 不复权 |
| "qfq" | 前复权 |
| "hfq" | 后复权 |

**返回字段**:
| 字段 | 说明 |
|-----|------|
| 日期 | 交易日期 |
| 开盘 | 开盘价 |
| 收盘 | 收盘价 |
| 最高 | 最高价 |
| 最低 | 最低价 |
| 成交量 | 成交量 |
| 成交额 | 成交额 |
| 振幅 | 振幅(%) |
| 涨跌幅 | 涨跌幅(%) |
| 涨跌额 | 涨跌额 |
| 换手率 | 换手率(%) |

### 2. 分时数据
**AKShare 接口**: `stock_zh_a_hist_min_em(symbol, period, start_date, end_date, adjust)`

**period 参数**:
| 值 | 说明 |
|---|------|
| "1" | 1分钟K线 |
| "5" | 5分钟K线 |
| "15" | 15分钟K线 |
| "30" | 30分钟K线 |
| "60" | 60分钟K线 |

---

## 🔥 热门数据

### 1. 涨停池
**AKShare 接口**: `stock_zt_pool_em(date)`
- 获取当日涨停股票列表
- 包含连板数、涨停时间、封单额等

### 2. 跌停池
**AKShare 接口**: `stock_zt_pool_dtgc_em(date)`
- 获取当日跌停股票列表

### 3. 股票热度排行
**AKShare 接口**: `stock_hot_rank_em()`
- 东方财富热度排行

### 4. 龙虎榜
**AKShare 接口**: `stock_lhb_detail_em(symbol, date, flag)`
- 获取龙虎榜营业部详情

---

## 📋 本项目已实现的 AI 工具

| 工具名称 | 功能 | 对应 API |
|---------|------|---------|
| `search_stock` | 搜索股票代码 | `eastmoney.searchStock()` |
| `get_stock_quote` | 获取实时行情 | `eastmoney.getStockQuote()` |
| `get_kline_data` | 获取K线数据 | `eastmoney.getKlineData()` |
| `get_fund_flow` | 今日资金流向 | `fundflow.getStockFundFlow()` |
| `get_fund_flow_history` | 历史资金流向 | `fundflow.getStockFundFlowHistory()` |
| `get_fund_flow_rank` | 资金流排行榜 | `fundflow.getFundFlowRank()` |
| `get_market_fund_flow` | 大盘资金流向 | `fundflow.getMarketFundFlow()` |

---

## 🎯 AI 决策指南

### 何时直接使用记忆（不调用工具）
✅ 用户问当前股票的价格、涨跌
✅ 用户问当前股票的今日资金流向
✅ 用户问当前股票的市值、PE、PB
✅ 用户问当前股票的成交量、换手率

### 何时调用工具
🔧 用户问**其他股票**的任何信息 → `get_stock_quote`
🔧 用户需要**技术分析**/均线/趋势 → `get_kline_data`
🔧 用户需要**历史资金流向**趋势 → `get_fund_flow_history`
🔧 用户问**资金流入排行榜** → `get_fund_flow_rank`
🔧 用户问**大盘资金流向** → `get_market_fund_flow`
🔧 用户不知道股票代码 → `search_stock`

---

## 📝 常用股票代码速查

| 股票名称 | 代码 | 板块 |
|---------|------|------|
| 贵州茅台 | 600519 | 白酒 |
| 比亚迪 | 002594 | 新能源车 |
| 宁德时代 | 300750 | 锂电池 |
| 中国平安 | 601318 | 保险 |
| 招商银行 | 600036 | 银行 |
| 工商银行 | 601398 | 银行 |
| 中芯国际 | 688981 | 半导体 |
| 隆基绿能 | 601012 | 光伏 |
| 药明康德 | 603259 | 医药 |
| 中国中免 | 601888 | 免税 |
| 东方财富 | 300059 | 券商 |
| 海康威视 | 002415 | 安防 |
| 五粮液 | 000858 | 白酒 |
| 恒瑞医药 | 600276 | 医药 |
| 中信证券 | 600030 | 券商 |

---

## ⚠️ 数据说明

1. **数据来源**: 东方财富免费 API (同 AKShare 底层数据源)
2. **更新频率**: 盘中实时更新，收盘后每日更新
3. **交易时间**: A股 9:30-11:30, 13:00-15:00
4. **涨跌限制**: 
   - 主板: ±10%
   - 科创板/创业板: ±20%
   - ST股票: ±5%
5. **投资提示**: 所有分析仅供参考，投资决策需用户自行判断
